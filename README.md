# Topology Optimization Toolbox 

* The folder /TopologyOptimizatoinToolbox contains all the Matlab functions
* The folder /Examples contains files required for some of the examples

* The matlab files strarting with MI are examples in which the mesh files 
are imported from the /Examples folder. 

* The matlab files starting with MG are examples in which the mesh is 
generated by the topology optimization toolbox. These take longer to run 
as the mesh has to be generated. It is not recomended to generate meshes
with more that 200 000 nodes as the optimization might take too long. 

* The most complete example is MG_simpleHinge. 

* The fastest example(with a reasonable number of elments) is MI_thinBeam. 

* Each time the optimization is run, two folders will be created under 
`/RESULTS/<folderName>` and `/ITERATIONS/<folderName>` with the optimization 
results and with figures of each iteration.


## Meshing 
The first step in the optimization is to obtain a mesh of the design domain. As
we are using TET4 elements, this mesh will be stored as two arrays: `nodeCoord` 
(Stores the coordinates of each node in a `numNodes` by 3 array) and `elemConn`
(Stores the nodes that compose each element in a numElem by 4 array). These two
arrays will be two of the properties of the rMesh object that is used in this project.
In order to generate such object, there are two methods depending on the source of
the mesh. These are specified through the mesh-settings structure array that is the
only argument of the rMesh constructor.


### Generating the Mesh 
The mesh can be generated with the provided functions. In order to do this, the
mesh-Settings structure array must either not have a eld name import or have it
set as false. The dimensions of the mesh and the element size are specied with the
values of Lx, Ly, Lz, and d. These are the most important parameters that dene
the mesh that will be generated; the rest of the values of the mesh-settings structure
array can be loaded from the `defaultMeshSettings()` function(Before setting
any values in order to not overwrite them). The following example generates a mesh
of dimensions 2 by 1 by 1 with an element size of 0.04.


```
1 mS = defaultMeshSettings(); % Mesh Settings struct with default values
2 mS.Lx = 2; mS.Ly = 1; mS.Lz = 1; % Dimensions
3 mS.d = 0.04; % Element Size
4 m = rMesh(mS); % Generates rMesh Object
``` 